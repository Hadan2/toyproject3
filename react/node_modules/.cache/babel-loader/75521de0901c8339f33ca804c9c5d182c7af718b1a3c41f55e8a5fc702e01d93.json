{"ast":null,"code":"import _objectSpread from\"C:/Users/zinzz/OneDrive/Desktop/Todoapp/Todoapp94/toyproject/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/zinzz/OneDrive/Desktop/Todoapp/Todoapp94/toyproject/react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useState,useEffect}from\"react\";import{Button,Container,Nav,Navbar,Row,Col}from'react-bootstrap';import{useParams,Link,useNavigate}from'react-router-dom';import axios from'axios';import MyNavbar from\"./navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(props){var navigate=useNavigate();var params=useParams();useEffect(function(){axios.get('http://localhost:8080/data2').then(function(res){var copy=_toConsumableArray(res.data);props.setData1(copy);console.log(props.data1);}).catch(function(err){console.error(err);});},[]);var handleComplete=function handleComplete(id){axios.post(\"http://localhost:8080/modify/\".concat(id),{}).then(function(response){// 데이터를 업데이트하고 다시 렌더링\nvar updatedData=props.data1.map(function(item){if(item._id===id){return _objectSpread(_objectSpread({},item),{},{complete:true});}return item;});props.setData1(updatedData);console.log(response);}).catch(function(error){console.log(error);});};var handleDelete=function handleDelete(id,i){axios.delete(\"http://localhost:8080/delete/\".concat(id),{}).then(function(response){var copy2=_toConsumableArray(props.data1);copy2.splice(i,1);props.setData1(copy2);console.log(response);}).catch(function(error){console.error(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MyNavbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"large-square\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"large-square1\",children:props.data1.map(function(a,i){var x=a._id.toString();if(a.complete==false){return/*#__PURE__*/_jsxs(\"div\",{className:\"small-square textst\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" textst\",onClick:function onClick(){},children:a.date}),/*#__PURE__*/_jsx(Link,{to:\"/detail/\".concat(x),className:\"textst\",children:a.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(Button,{className:\"bottom-right-completed\",onClick:function onClick(){handleComplete(a._id);},children:\" Complete! \"}),/*#__PURE__*/_jsx(Button,{className:\"bottom-right-delete\",variant:\"danger\",onClick:function onClick(e){if(window.confirm('정말 삭제하시겠습니까?')){handleDelete(a._id,i);}},children:\" Delete \"})]})]},a._id);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"large-square2 textst\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\" \",props.user,\"'s Completed Todolist\"]}),props.data1.map(function(a,i){if(a.complete==true){return/*#__PURE__*/_jsxs(\"div\",{className:\"small-square2 textst\",children:[\"  \",a.date,\"   \",a.title,/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(Button,{className:\"bottom-right-delete\",variant:\"danger\",style:{display:'inline',marginLeft:300,marginTop:-5},onClick:function onClick(e){if(window.confirm('정말 삭제하시겠습니까?')){handleDelete(a._id,i);}},children:\" Delete \"})})]},a.id);}})]})]})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","Button","Container","Nav","Navbar","Row","Col","useParams","Link","useNavigate","axios","MyNavbar","jsx","_jsx","jsxs","_jsxs","Home","props","navigate","params","get","then","res","copy","_toConsumableArray","data","setData1","console","log","data1","catch","err","error","handleComplete","id","post","concat","response","updatedData","map","item","_id","_objectSpread","complete","handleDelete","i","delete","copy2","splice","children","className","a","x","toString","onClick","date","to","title","variant","e","window","confirm","user","style","display","marginLeft","marginTop"],"sources":["C:/Users/zinzz/OneDrive/Desktop/Todoapp/Todoapp94/toyproject/react/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect }from \"react\";\r\nimport {Button, Container, Nav, Navbar,Row,Col} from 'react-bootstrap'\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport MyNavbar from \"./navbar\";\r\n\r\nfunction Home(props) {\r\n    const navigate = useNavigate();\r\n    const params = useParams();\r\n    \r\n    useEffect(() => {\r\n        axios.get('http://localhost:8080/data2') \r\n          .then(res => {\r\n            let copy = [...res.data]\r\n            props.setData1(copy);\r\n            console.log(props.data1); \r\n          })\r\n          .catch(err => {\r\n            console.error(err);\r\n          });\r\n      }, []);\r\n\r\n      const handleComplete = (id) => {\r\n        axios\r\n          .post(`http://localhost:8080/modify/${id}`, {})\r\n          .then((response) => {\r\n            // 데이터를 업데이트하고 다시 렌더링\r\n            const updatedData = props.data1.map((item) => {\r\n              if (item._id === id) {\r\n                return { ...item, complete: true };\r\n              }\r\n              return item;\r\n            });\r\n            props.setData1(updatedData);\r\n            console.log(response);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      };\r\n\r\n      const handleDelete = (id,i) => {\r\n        axios.delete(`http://localhost:8080/delete/${id}`,{\r\n        })\r\n            .then(response => {\r\n            let copy2 = [...props.data1]\r\n            copy2.splice(i,1)\r\n            props.setData1(copy2)\r\n            console.log(response);\r\n            })\r\n            .catch(error => {              \r\n            console.error(error);\r\n            })\r\n      };\r\n\r\n\r\n\r\n    return (\r\n        \r\n        <div>\r\n            <MyNavbar></MyNavbar>\r\n            \r\n            <div className=\"large-square\">\r\n\r\n\r\n            <div className=\"large-square1\">\r\n            {\r\n                props.data1.map( (a,i) => {\r\n                    let x = a._id.toString()\r\n\r\n                    if(a.complete == false) {\r\n                    return (\r\n                                <div className=\"small-square textst\" key={a._id}>\r\n\r\n                                <div className=\" textst\" onClick={() => {\r\n                                }}>{a.date}</div>\r\n\r\n                                <Link to={`/detail/${x}`} className=\"textst\">{a.title}</Link>\r\n\r\n                                <div className=\"button-container\">\r\n\r\n                                <Button className=\"bottom-right-completed\" onClick={() => {\r\n                                    handleComplete(a._id)\r\n                                }}> Complete! </Button>\r\n\r\n                                <Button className=\"bottom-right-delete\" variant=\"danger\" \r\n                                onClick={(e) => {\r\n                                    if(window.confirm('정말 삭제하시겠습니까?')) {\r\n                                        handleDelete(a._id,i)\r\n                                    }\r\n                                    \r\n                                }}\r\n                                > Delete </Button> \r\n                                \r\n                                </div>\r\n\r\n                                </div>\r\n                         \r\n                    )}})\r\n            }\r\n            </div>    \r\n                \r\n            <div className=\"large-square2 textst\">\r\n            <div> {props.user}'s Completed Todolist</div>\r\n            {\r\n               props.data1.map((a,i) => {\r\n\r\n                        if(a.complete==true) {\r\n                            return (\r\n                            \r\n                                <div className=\"small-square2 textst\" key={a.id} >  {a.date}   {a.title} \r\n\r\n                                <div className=\"button-container\">\r\n\r\n                                <Button className=\"bottom-right-delete\" variant=\"danger\" \r\n                                style={{ display: 'inline', marginLeft: 300, marginTop:-5}} \r\n                                onClick={(e) => {\r\n                                    if(window.confirm('정말 삭제하시겠습니까?')) {\r\n                                        handleDelete(a._id,i)\r\n                                    }\r\n                                }}\r\n                                > Delete </Button>\r\n\r\n                                </div>\r\n                                \r\n                                </div>\r\n\r\n                            \r\n                                )\r\n                            }\r\n                        })\r\n                    \r\n            }\r\n            </div>\r\n                    \r\n\r\n                \r\n\r\n            \r\n\r\n           </div> \r\n            \r\n            \r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}