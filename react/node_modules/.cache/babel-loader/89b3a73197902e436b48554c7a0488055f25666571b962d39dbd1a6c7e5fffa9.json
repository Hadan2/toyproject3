{"ast":null,"code":"import _toConsumableArray from\"C:/Users/zinzz/OneDrive/Desktop/toyproject/react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useState,useEffect}from\"react\";import{Button,Container,Nav,Navbar,Row,Col}from'react-bootstrap';import{useParams,Link,useNavigate}from'react-router-dom';import axios from'axios';import MyNavbar from\"./navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(props){var navigate=useNavigate();var params=useParams();var fetchData=function fetchData(){axios.get('/data2').then(function(res){var copy=_toConsumableArray(res.data);props.setData1(copy);console.log(props.data1);}).catch(function(err){console.error(err);});};var handleComplete=function handleComplete(id){console.log('버튼 눌렀네요');axios.post(\"/modify/\".concat(id),{user:props.user}).then(function(response){fetchData();console.log(response);console.log('뭐하냐?');}).catch(function(error){console.log('에휴');alert('이건 니 포스트가 아님');console.log(error);});};var handleDelete=function handleDelete(id,i){axios.delete(\"/delete/\".concat(id),{data:{user:props.user}}).then(function(response){var copy2=_toConsumableArray(props.data1);copy2.splice(i,1);props.setData1(copy2);console.log(response);}).catch(function(error){alert(\"이건 니 포스트가 아니다\");console.error(error);});};useEffect(function(){fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MyNavbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"large-square\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"large-square1\",children:props.data1.map(function(a,i){var x=a._id.toString();if(a.complete==false){return/*#__PURE__*/_jsxs(\"div\",{className:\"small-square textst\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" textst\",onClick:function onClick(){},children:a.date}),/*#__PURE__*/_jsx(Link,{to:\"/detail/\".concat(x),className:\"textst\",children:a.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(Button,{className:\"bottom-right-completed\",onClick:function onClick(){handleComplete(a._id);},children:\" Complete! \"}),/*#__PURE__*/_jsx(Button,{className:\"bottom-right-delete\",variant:\"danger\",onClick:function onClick(e){if(window.confirm('정말 삭제하시겠습니까?')){handleDelete(a._id,i);}},children:\" Delete \"})]})]},a._id);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"large-square2 textst\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\" \",props.user,\"'s Completed Todolist\"]}),props.data1.map(function(a,i){if(a.complete==true){return/*#__PURE__*/_jsxs(\"div\",{className:\"small-square2 textst\",children:[\"  \",a.date,\"   \",a.title,/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(Button,{className:\"bottom-right-delete\",variant:\"danger\",style:{display:'inline',marginLeft:300,marginTop:-5},onClick:function onClick(e){if(window.confirm('정말 삭제하시겠습니까?')){handleDelete(a._id,i);}},children:\" Delete \"})})]},a.id);}})]})]})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","Button","Container","Nav","Navbar","Row","Col","useParams","Link","useNavigate","axios","MyNavbar","jsx","_jsx","jsxs","_jsxs","Home","props","navigate","params","fetchData","get","then","res","copy","_toConsumableArray","data","setData1","console","log","data1","catch","err","error","handleComplete","id","post","concat","user","response","alert","handleDelete","i","delete","copy2","splice","children","className","map","a","x","_id","toString","complete","onClick","date","to","title","variant","e","window","confirm","style","display","marginLeft","marginTop"],"sources":["C:/Users/zinzz/OneDrive/Desktop/toyproject/react/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect }from \"react\";\r\nimport {Button, Container, Nav, Navbar,Row,Col} from 'react-bootstrap'\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport MyNavbar from \"./navbar\";\r\n\r\nfunction Home(props) {\r\n    const navigate = useNavigate();\r\n    const params = useParams();\r\n\r\n    const fetchData = () => {\r\n      axios.get('/data2') \r\n          .then(res => {\r\n            let copy = [...res.data]\r\n            props.setData1(copy);\r\n            console.log(props.data1); \r\n          })\r\n          .catch(err => {\r\n            console.error(err);\r\n          });\r\n    }\r\n\r\n    const handleComplete = (id) => {\r\n        console.log('버튼 눌렀네요')\r\n        axios.post(`/modify/${id}`, {\r\n            user: props.user\r\n          })\r\n          .then((response) => {\r\n            fetchData();\r\n            console.log(response)\r\n            console.log('뭐하냐?')\r\n          })\r\n          .catch((error) => {\r\n            console.log('에휴')\r\n            alert('이건 니 포스트가 아님')\r\n            console.log(error);\r\n          });\r\n      };\r\n\r\n      const handleDelete = (id,i) => {\r\n        axios.delete(`/delete/${id}`,{\r\n            data: {\r\n                user:props.user\r\n              }\r\n        })\r\n            .then(response => {\r\n            let copy2 = [...props.data1]\r\n            copy2.splice(i,1)\r\n            props.setData1(copy2)\r\n            console.log(response);\r\n            })\r\n            .catch(error => {  \r\n            alert(\"이건 니 포스트가 아니다\")            \r\n            console.error(error);\r\n            })\r\n      };\r\n\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n      }, []);\r\n\r\n      \r\n\r\n\r\n\r\n    return (\r\n        \r\n        <div>\r\n            <MyNavbar></MyNavbar>\r\n            \r\n            <div className=\"large-square\">\r\n\r\n\r\n            <div className=\"large-square1\">\r\n            {\r\n                props.data1.map( (a,i) => {\r\n                    let x = a._id.toString()\r\n\r\n                    if(a.complete == false) {\r\n                    return (\r\n                                <div className=\"small-square textst\" key={a._id}>\r\n\r\n                                <div className=\" textst\" onClick={() => {\r\n                                }}>{a.date}</div>\r\n\r\n                                <Link to={`/detail/${x}`} className=\"textst\">{a.title}</Link>\r\n\r\n                                <div className=\"button-container\">\r\n\r\n                                <Button className=\"bottom-right-completed\" onClick={() => {\r\n                                    handleComplete(a._id)\r\n                                }}> Complete! </Button>\r\n\r\n                                <Button className=\"bottom-right-delete\" variant=\"danger\" \r\n                                onClick={(e) => {\r\n                                    if(window.confirm('정말 삭제하시겠습니까?')) {\r\n                                        handleDelete(a._id,i)\r\n                                    }\r\n                                    \r\n                                }}\r\n                                > Delete </Button> \r\n                                \r\n                                </div>\r\n\r\n                                </div>\r\n                         \r\n                    )}})\r\n            }\r\n            </div>    \r\n                \r\n            <div className=\"large-square2 textst\">\r\n            <div> {props.user}'s Completed Todolist</div>\r\n            {\r\n               props.data1.map((a,i) => {\r\n\r\n                        if(a.complete==true) {\r\n                            return (\r\n                            \r\n                                <div className=\"small-square2 textst\" key={a.id} >  {a.date}   {a.title} \r\n\r\n                                <div className=\"button-container\">\r\n\r\n                                <Button className=\"bottom-right-delete\" variant=\"danger\" \r\n                                style={{ display: 'inline', marginLeft: 300, marginTop:-5}} \r\n                                onClick={(e) => {\r\n                                    if(window.confirm('정말 삭제하시겠습니까?')) {\r\n                                        handleDelete(a._id,i)\r\n                                    }\r\n                                }}\r\n                                > Delete </Button>\r\n\r\n                                </div>\r\n                                \r\n                                </div>\r\n\r\n                            \r\n                                )\r\n                            }\r\n                        })\r\n                    \r\n            }\r\n            </div>\r\n                    \r\n\r\n                \r\n\r\n            \r\n\r\n           </div> \r\n            \r\n            \r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}